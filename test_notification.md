# 通知功能测试指南

## 测试步骤

1. **启动系统**
   ```bash
   go run cmd/main.go
   ```

2. **访问系统**
   - 打开浏览器访问 `http://localhost:8080`
   - 使用默认账户登录：`admin/admin123`

3. **创建测试任务**
   - 点击"新建任务"
   - 填写基本信息：
     - 任务名称：测试通知任务
     - Cron表达式：`0 */1 * * * *` (每分钟执行一次)
     - 命令：`echo "Hello World"`

4. **配置通知**
   - 在通知配置部分：
     - 选择"执行成功时通知"和"执行失败时通知"
     - 选择要测试的通知方式（邮件、钉钉、企业微信）

5. **邮件通知测试**
   - 填写SMTP配置（建议使用Gmail测试）
   - SMTP服务器：smtp.gmail.com
   - SMTP端口：587
   - 启用TLS：是
   - 填写发件人和收件人邮箱
   - 点击"测试通知"按钮

6. **钉钉通知测试**
   - 在钉钉群中添加自定义机器人
   - 复制Webhook URL
   - 填写到配置中
   - 点击"测试通知"按钮

7. **企业微信通知测试**
   - 在企业微信群中添加群机器人
   - 复制Webhook URL
   - 填写到配置中
   - 点击"测试通知"按钮

8. **保存并验证**
   - 保存任务配置
   - 等待任务自动执行或手动执行
   - 检查是否收到通知

## 预期结果

- 测试通知应该立即发送
- 任务执行后应该根据配置发送相应通知
- 通知内容应该包含任务信息、执行状态、时间等详细信息

## 故障排除

1. **邮件通知失败**
   - 检查SMTP配置是否正确
   - 确认邮箱是否开启SMTP服务
   - 检查是否需要应用专用密码

2. **钉钉通知失败**
   - 确认Webhook URL是否正确
   - 检查机器人是否被禁用

3. **企业微信通知失败**
   - 确认Webhook URL是否正确
   - 检查机器人是否被移除

## 功能验证清单

- [ ] 邮件通知测试成功
- [ ] 钉钉通知测试成功
- [ ] 企业微信通知测试成功
- [ ] 任务成功执行时收到通知
- [ ] 任务执行失败时收到通知
- [ ] 通知内容格式正确
- [ ] 多种通知方式同时工作
- [ ] @功能正常工作（钉钉、企业微信）